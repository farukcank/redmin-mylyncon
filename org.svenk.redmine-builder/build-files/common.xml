<project name="Tooling build targets">

	<macrodef name="getbuildnr">
		<attribute name="buildnrproperty" />
		<sequential>
			<exec executable="svn" output="~getbuildnr.xml">
				<arg value="info" />
				<arg value="--xml" />
				<arg value="${buildHome}/svnfetch" />
			</exec>
			<xmlproperty file="~getbuildnr.xml" collapseAttributes="true" />
			<property name="@{buildnrproperty}" value="${info.entry.commit.revision}" />
			<delete file="~getbuildnr.xml" />
		</sequential>
	</macrodef>

	<target name="-checkforfailure">
		<condition property="build.failure">
			<isfileselected file="${logDir}/build.log">
				<contains text="BUILD FAILED" casesensitive="true"/>
			</isfileselected>
		</condition>
	</target>


</project>